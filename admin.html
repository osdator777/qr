<DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Admin · QR App</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-6 max-w-4xl mx-auto">

<h1 class="text-2xl font-bold mb-4">Panel de Administración</h1>

<-- Generador QR -->
<section class="mb-8">
  <!-- NUEVO: id="time" -->
  <div class="flex flex-wrap gap-2">
    <input id="uid"   placeholder="User ID"   class="border px-2 py-1">
    <input id="order" placeholder="Pedido #"  class="border px-2 py-1">
    <input id="date"  type="date"             class="border px-2 py-1">
    <input id="time"  type="time"             class="border px-2 py-1"> <!-- ⏰ -->
    <button id="btnMake" class="bg-emerald-600 text-white px-3 py-1 rounded">
      Crear QR
    </button>
  </div>
  <canvas id="qrCanvas" class="mt-4"></canvas>
</section>

<-- Tabla historial -->
<section>
  <h2 class="font-semibold mb-2">Historial de escaneos</h2>
  <button id="btnExcel" class="mb-3 bg-sky-600 text-white px-3 py-1 rounded">
    Exportar Excel
  </button>
  <table id="tbl" class="min-w-full text-sm border">
    <thead class="bg-slate-200">
      <tr><th>User ID</th><th>Pedido</th><th>Fecha QR</th><th>Escaneado el</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<-- LIBRERÍAS -->
<script>
  /* Setear fecha y hora actuales al cargar */
  const now = new Date()
  document.getElementById('date').value = now.toISOString().slice(0,10)        // YYYY‑MM‑DD
  document.getElementById('time').value = now.toTimeString().slice(0,5)        // HH:MM
</script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="js/store.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
